"use strict";var AnimationFrameController=function(){function t(e){for(var a=0;a<n.length;a++)if(n[a].time===-1)n[a].time=e;else{var u=n[a].handler(e-i,e-n[a].time);u===!1&&(o.remove(n[a].id),a--)}i=e,r&&n.length&&(r=window.requestAnimationFrame(t))}var n=[],r=!1,e=!1,i=-1,a=0,o={start:function(){r||(r=window.requestAnimationFrame(t))},stop:function(){r&&(window.cancelAnimationFrame(t),r=!1)},get paused(){return!!r},autostart:!0,add:function(){for(var t=arguments.length,r=Array(t),e=0;e<t;e++)r[e]=arguments[e];for(var i=0;i<r.length;i++)n.unshift({time:-1,handler:r[i],id:a++}),r[i]=a;return this.autostart&&n.length&&this.start(),r},remove:function(){for(var t=arguments.length,r=Array(t),e=0;e<t;e++)r[e]=arguments[e];for(var i=0;i<r.length;i++){for(var a=0;a<n.length;a++)n[a].id!==r[i]&&n[a].handler!==r[i]||(r[i]=n[a].handler,n.splice(a,1),a--);this.autostart&&0===n.length&&this.stop()}return r},debug:function(){return{functions:n,animationFrame:r,paused:e,time:i}}};return o}();