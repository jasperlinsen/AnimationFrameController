"use strict";var AnimationFrameController=function(){function t(r){for(var o=0;o<n.length;o++)if(n[o].time===-1)n[o].time=r;else{var u=n[o].handler(r-i,r-n[o].time);u===!1&&(a.remove([n[o].id]),o--)}i=r,e&&n.length?e=window.requestAnimationFrame(t):a.stop()}var n=[],e=!1,i=-1,r=0,a={start:function(){e=window.requestAnimationFrame(t)},stop:function(){window.cancelAnimationFrame(e),e=!1},get paused(){return!!e},autostart:!0,add:function(t){return r++,n.unshift({time:-1,handler:t,id:r}),this.autostart&&n.length&&this.start(),r},remove:function(t){for(var e,i=0;i<n.length;i++)n[i].id!==t&&n[i].handler!==t||(e=n[i].handler,n.splice(i,1),i--);return this.autostart&&0===n.length&&this.stop(),e},debug:function(){return{functions:n.slice(),animationFrame:e||!1,time:i}}};return a}();