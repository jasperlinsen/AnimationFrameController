"use strict";var AnimationFrameController=function(){function t(i){for(var o=0;o<n.length;o++)if(n[o].time===-1)n[o].time=i;else{var u=n[o].handler(i-e,i-n[o].time);u===!1&&(a.remove(n[o].id),o--)}e=i,r&&n.length?r=window.requestAnimationFrame(t):a.stop()}var n=[],r=!1,e=-1,i=0,a={start:function(){r=window.requestAnimationFrame(t)},stop:function(){window.cancelAnimationFrame(r),r=!1},get paused(){return!!r},autostart:!0,add:function(){for(var t=arguments.length,r=Array(t),e=0;e<t;e++)r[e]=arguments[e];for(var a=0;a<r.length;a++)n.unshift({time:-1,handler:r[a],id:i++}),r[a]=i;return this.autostart&&n.length&&this.start(),r},remove:function(){for(var t=arguments.length,r=Array(t),e=0;e<t;e++)r[e]=arguments[e];for(var i=0;i<r.length;i++){for(var a=0;a<n.length;a++)n[a].id!==r[i]&&n[a].handler!==r[i]||(r[i]=n[a].handler,n.splice(a,1),a--);this.autostart&&0===n.length&&this.stop()}return r},debug:function(){return{functions:n.slice(),animationFrame:r||!1,time:e}}};return a}();